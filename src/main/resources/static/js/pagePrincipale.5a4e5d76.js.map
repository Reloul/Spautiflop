{"version":3,"file":"js/pagePrincipale.5a4e5d76.js","mappings":"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","sources":["webpack://test/./src/components/SearchBar.vue","webpack://test/./src/stores/SearchStore.js","webpack://test/./src/components/SearchBar.vue?fbac","webpack://test/./src/view/PagePrincipale.vue","webpack://test/./src/components/PopularSong.vue","webpack://test/./src/components/PopularSong.vue?ced7","webpack://test/./src/view/PagePrincipale.vue?fd61"],"sourcesContent":["<template>\n    <div id=\"input-main-search\">\n        <v-icon icon=\"mdi-magnify\" color=\"#3b4762\" size=\"x-large\" id=\"button-search-main\" @click=\"search()\"></v-icon>\n        <input ref=inputSearch type=\"text\" id=\"music-seach\" placeholder=\"Recherchez votre musique ici !\" @keydown.enter=\"handleEnter\" v-model=\"searchInput\">\n    </div>\n</template>\n\n<script>\nimport {ref, onMounted} from \"vue\";\nimport {useRouter} from \"vue-router\";\nimport {useUpdateStore} from \"../store/updateStore\";\nimport { useSearchStore } from '../stores/SearchStore'\n\nexport default {\n    setup() {\n        const inputSearch = ref(null);\n        const searchInput = ref('');\n        const searchStore = useSearchStore();\n        const route = useRouter();\n        const updateStore = useUpdateStore();\n\n        const search = () => {\n            const searchData = {\n                myResearch: searchInput.value,\n            };\n            searchStore.madeSearch(searchData);\n\n            if(inputSearch.value.value != '')\n                route.push('/recherche/' + inputSearch.value.value)\n            else\n                route.push('/pagePrincipale');\n\n            updateStore.update();\n        }\n\n        const handleEnter = (event) => {    \n            if (event.key === 'Enter') {\n                search()\n            };\n        };\n\n        onMounted(() => {\n            searchInput.value = searchStore.currentSearch.myResearch;\n        });\n\n        return {\n            inputSearch,\n            search,\n            searchStore,\n            searchInput,\n            handleEnter,\n            \n        };\n    },\n    name: \"SearchBar\",\n}\n</script>\n\n<style scoped>\n    #input-main-search{\n        background-color: #b9d1db;\n        border-radius: 50px;\n        width: 40vw;\n        text-align: left;\n        margin-left: 50px;\n        margin-top: 2vh;\n        height: 40px;\n        min-width: 300px;\n    }\n    #input-main-search input{\n        background-color: #b9d1db;\n        width: 35vw;\n        margin-left: 50px;\n        border: none;\n        margin: auto;\n        margin-top: 8px;\n        color: #3b4762;\n    }\n\n    input:focus{\n        outline: none;\n    }\n\n    #input-main-search #button-search-main{\n        margin-left: 20px;\n        margin-right: 10px;\n    }\n</style>","import { defineStore } from \"pinia\";\n\nexport const useSearchStore = defineStore('searchStore', {\n    state: () => ({\n        currentSearch: {\n            myResearch: '',\n        }\n    }),\n    actions: {\n        madeSearch(search){\n            this.currentSearch = {\n                myResearch:  search.myResearch,\n            }\n        }\n        \n    }\n})","import { render } from \"./SearchBar.vue?vue&type=template&id=146db4de&scoped=true\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=js\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=js\"\n\nimport \"./SearchBar.vue?vue&type=style&index=0&id=146db4de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-146db4de\"]])\n\nexport default __exports__","<template>\n  <div id=\"main-page\">\n    <div id=\"left-side\">\n        <LeftMain />\n    </div>\n    <div id=\"main-content\">\n        <div id=\"top-main-content\">\n            <SearchBar />\n            <UserTop />\n        </div>\n        <div id=\"mid-main-content\">\n            <PopularSong nameCat=\"Musiques Populaire\" fetchLink=\"/api/song/top/5\"/>\n        </div>\n        <div id=\"mid-main-content\">\n            <PopularSong nameCat=\"Découverte de Musique\" fetchLink=\"/api/song/random/5\"/>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport UserTop from \"../components/UserTop.vue\";\nimport SearchBar from \"../components/SearchBar.vue\";\nimport LeftMain from '../components/LeftMain.vue';\nimport PopularSong from \"../components/PopularSong.vue\";\n\nexport default {\n    name: \"PagePrincipale\",\n    components : {\n        SearchBar,\n        UserTop,\n        LeftMain,\n        PopularSong,\n    },\n}\n</script>\n\n<style scoped>\n\n    #main-page{\n        display: flex;\n        overflow: auto;\n        margin-bottom: 100px;\n        overflow-x:inherit\n    }\n    #main-content{\n        background-color: #3b4762;\n        width: 81vw;\n        margin-left: 20px;\n        margin-top: 4vh;\n        border-radius: 10px;\n    }\n\n    #top-main-content{\n        display: flex;\n    }\n\n    #left-size{\n        position: fixed;\n    }\n\n</style>\n","<template>\n  <div id=\"popular\">\n    <div id=\"popular-title\">\n        <div id=\"span-cat\">\n            <span> {{ nameCat }}</span>\n        </div>\n        <div id=\"hr-cat\">\n            <hr>\n        </div>\n    </div>\n    <div id=\"popular-general\">\n        <div id=\"popular-music\" v-for=\"music in musics\" :key=\"music.id\">\n            <CarteMusique :img=\"music.img\" :music=\"music.name\" :artist=\"music.artist\" :nbLike=\"music.nbLikes\" :id=\"music.id\" :musicLink=\"music.music\"/>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport CarteMusique from './CarteMusique.vue'\nimport {onMounted, ref} from 'vue'\nimport {useQueryStore} from '../store/queryStore'\nimport {useToast} from 'vue-toastification'\n\nexport default {\n    setup(props) {\n        const toast = useToast();\n        const queryStore = useQueryStore();\n        const musics = ref([]);\n\n        const fetchingData = async () => {\n            const response = await queryStore.fetchJwtJson(props.fetchLink);\n            if(queryStore.HttpCode !== 200)\n                toast.error(\"Erreur lors de la récupération des musiques\");\n           \n           else {\n                for(let music of response){\n                    musics.value.push({\n                        id: music.id,\n                        img: await queryStore.fetchImage(music.image),\n                        name: music.name,\n                        artist: music.artist,\n                        nbLikes: music.nbLikes,\n                        music: await queryStore.fetchAudio(music.musicLink),\n                    });\n                }\n            }\n        }\n\n        //onServerPrefetch(async () => {await fetchingData()});\n        onMounted(async () => {\n            await fetchingData();\n            }); \n\n\n      return {musics}\n    },\n    name:  \"PopularSong\",\n    components: {\n        CarteMusique,\n    },\n    props: {\n        nameCat : String,\n        fetchLink: String\n    }\n}\n</script>\n\n<style scoped>\n\n    #popular{\n        margin-left: 50px;\n        margin-top: 8vh;\n        text-align: left;\n        z-index: 1;\n    }\n    #popular-title hr{\n        border: none;\n        height: 2px;\n        background-color: #b9d1db;\n        width: 40vw;\n        display: flex;\n        min-width: 300px;\n    }\n    #popular-title span{\n        color: #b9d1db;\n        background-color: #3b4762;\n        font-size: 20px;\n        margin-left: 3vw;\n        padding: 10px;\n    }\n    #span-cat{\n        width: 40vw;\n    }\n    #hr-cat{\n        margin-top: -10px;\n    }\n\n    #popular-music{\n        margin-top: 6vh;\n        text-align: center;\n    }\n\n    #popular-general{\n        flex-wrap: wrap;\n        display: flex;\n        justify-content: space-around;\n    }\n</style>","import { render } from \"./PopularSong.vue?vue&type=template&id=28cf34b0&scoped=true\"\nimport script from \"./PopularSong.vue?vue&type=script&lang=js\"\nexport * from \"./PopularSong.vue?vue&type=script&lang=js\"\n\nimport \"./PopularSong.vue?vue&type=style&index=0&id=28cf34b0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-28cf34b0\"]])\n\nexport default __exports__","import { render } from \"./PagePrincipale.vue?vue&type=template&id=0f0344bc&scoped=true\"\nimport script from \"./PagePrincipale.vue?vue&type=script&lang=js\"\nexport * from \"./PagePrincipale.vue?vue&type=script&lang=js\"\n\nimport \"./PagePrincipale.vue?vue&type=style&index=0&id=0f0344bc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f0344bc\"]])\n\nexport default __exports__"],"names":["id","icon","color","size","search","ref","type","placeholder","handleEnter","searchInput","useSearchStore","state","currentSearch","myResearch","actions","madeSearch","this","setup","inputSearch","searchStore","route","updateStore","u","searchData","value","push","update","event","key","name","__exports__","render","nameCat","fetchLink","musics","music","img","artist","nbLike","nbLikes","musicLink","props","toast","queryStore","fetchingData","async","response","fetchJwtJson","HttpCode","error","fetchImage","image","fetchAudio","components","CarteMusique","String","SearchBar","UserTop","LeftMain","PopularSong"],"sourceRoot":""}